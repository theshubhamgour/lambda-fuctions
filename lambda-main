import json

def lambda_handler(event, context):
    # Log the received event for debugging
    print("Received event: " + json.dumps(event))
    
    # Check the HTTP method and path
    if event.get("httpMethod") == "GET" and event.get("path") == "/main":
        # Prepare the response
        response = {
            "statusCode": 200,
            "headers": {
                "Content-Type": "application/json"
            },
            "body": json.dumps({
                "message": "Welcome to the main endpoint!",
                "status": "success"
            })
        }
    else:
        # Handle other paths or methods
        response = {
            "statusCode": 404,
            "headers": {
                "Content-Type": "application/json"
            },
            "body": json.dumps({
                "message": "Endpoint not found",
                "status": "error"
            })
        }
    
    return response
